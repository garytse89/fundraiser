<div class="header">

  <div class="row">

    <div class="col-xs-2">
      <h3 class="text-muted">{{ current_category.toUpperCase() }}</h3> 
    </div>

    <div class="col-xs-10">
      <div ng-if="current_category === 'Rescue'">
        <progressbar class="progress-striped active" max="total_rescue" value="current_rescue" type="{{ current_rescue | toColorClass:current_rescue }}"><i>{{ current_rescue | currency:'HKD' }} / {{ total_rescue | currency:'HKD'}}</i></progressbar>
      </div>
      <div ng-if="current_category === 'Rehabilitation'">
        <progressbar class="progress-striped active" max="total_rehabilitation" value="current_rehabilitation" type="{{ current_rehabilitation | toColorClass:current_rehabilitation }}"><i>{{ current_rehabilitation | currency:'HKD' }} / {{ total_rehabilitation | currency:'HKD'}}</i></progressbar>
      </div>
      <div ng-if="current_category === 'Investment'">
        <progressbar class="progress-striped active" max="total_investment" value="current_investment" type="{{ current_investment | toColorClass:current_investment }}"><i>{{ current_investment | currency:'HKD' }} / {{ total_investment | currency:'HKD'}}</i></progressbar>
      </div>  
    </div>

  </div>

  <ul class="nav nav-tabs nav-justified" role="tablist">
    <!-- <li style="cursor:pointer" 
    ng-class="{ 'active': current_category == '' }" 
    ng-click="switchCategory()">
      <a>All <span class="pull-right badge">{{ project_count.all.count }}</span></a>
    </li> -->
        
    <li style="cursor:pointer" ng-class="{ 'active': current_category == category.name.toUpperCase() }" ng-repeat="category in categories" ng-click="switchCategory(category.name)">
      <a>{{ category.name }} <span class="pull-right badge">{{ project_count[category.name].count }}</span></a>
    </li>
  </ul>   
</div>


<div class="row">
    <!--div class="col-md-3">
      <h3 style="text-align:center">Categories</h3>
      <hr />
      <ul class="nav nav-pills nav-stacked" role="tablist">
        <li style="cursor:pointer" ng-class="{ 'active': current_category == '' }" ng-click="switchCategory()"><a>All <span class="pull-right badge">{{ project_count.all.count }}</span></a></li>
        <li style="cursor:pointer" ng-class="{ 'active': current_category == category.name }" ng-repeat="category in categories" ng-click="switchCategory(category.name)"><a>{{ category.name }} <span class="pull-right badge">{{ project_count[category.name].count }}</span></a></li>
      </ul>
    </div-->

    <div class="col-md-12">
      <div ng-repeat="project in projects" class="col-sm-6 col-md-4">
        <div class="thumbnail">
          <div class="caption">
            <h3><b>{{ project.name.toUpperCase() }}</b></h3>
            <p><b>Status: </b><span ng-show="project.limit == 0" class="label label-sm label-danger">Funded</span><span ng-show="project.limit != 0" class="label label-sm label-success">Available</span></p><p>
            </p><p><b>Country: </b>{{ project.country }}</p>
            <p><b>Amount: </b>{{ project.cost | currency:'HKD' }}</p>
            <p><b>Donations Needed:</b> <span ng-show="project.limit >= 0">{{ project.limit }}</span><span ng-show="project.limit < 0">50</span></p>
            <p>{{ project.short_description }}</p>
            <p><a class="btn btn-default" role="button" ng-click="openProjectModal(project)">Find Out More!</a></p>
          </div>
        </div>
      </div>

      <div ng-show="projects.length == 0" class="panel panel-default">
        <div style="text-align:center" class="panel-body">
          No projects were found for this category
        </div>
      </div>
    </div>
</div>