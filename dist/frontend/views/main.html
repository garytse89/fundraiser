<div class="header">
  <a ng-href="/"><h3 class="text-muted">{{ current_category }}</h3></a>   

  <ul class="nav nav-tabs nav-justified" role="tablist">
    <!-- <li style="cursor:pointer" 
    ng-class="{ 'active': current_category == '' }" 
    ng-click="switchCategory()">
      <a>All <span class="pull-right badge">{{ project_count.all.count }}</span></a>
    </li> -->
        
    <li style="cursor:pointer" ng-class="{ 'active': current_category == category.name }" ng-repeat="category in categories" ng-click="switchCategory(category.name)">
      <a>{{ category.name }} <span class="pull-right badge">{{ project_count[category.name].count }}</span></a>
    </li>
  </ul>   
</div>


<div class="row">
    <!--div class="col-md-3">
      <h3 style="text-align:center">Categories</h3>
      <hr />
      <ul class="nav nav-pills nav-stacked" role="tablist">
        <li style="cursor:pointer" ng-class="{ 'active': current_category == '' }" ng-click="switchCategory()"><a>All <span class="pull-right badge">{{ project_count.all.count }}</span></a></li>
        <li style="cursor:pointer" ng-class="{ 'active': current_category == category.name }" ng-repeat="category in categories" ng-click="switchCategory(category.name)"><a>{{ category.name }} <span class="pull-right badge">{{ project_count[category.name].count }}</span></a></li>
      </ul>
    </div-->

    <div class="col-md-12">
      <div ng-repeat="project in projects" class="col-sm-6 col-md-4">
        <div class="thumbnail">
          <div class="caption">
            <h3><b>{{ project.name }}</b></h3>
            <p><b>Status: </b><span ng-show="project.limit == 0" class="label label-sm label-danger">Funded</span><span ng-show="project.limit != 0" class="label label-sm label-success">Available</span></p><p>
            </p><p><b>Cause: </b>{{ project.cause }}</p>
            <p><b>Country: </b>{{ project.country }}</p>
            <p><b>Donation Cost: </b>{{ project.cost | currency:'HKD' }}</p>
            <p><b>Donations Needed:</b> <span ng-show="!project.unlimited">{{ project.limit }}</span><span ng-show="project.unlimited">Unlimited</span></p>
            <p>{{ project.short_description }}</p>
            <p><a class="btn btn-default" role="button" ng-click="openProjectModal(project)">Find Out More!</a></p>
          </div>
        </div>
      </div>

      <div ng-show="projects.length == 0" class="panel panel-default">
        <div style="text-align:center" class="panel-body">
          No projects were found for this category
        </div>
      </div>
    </div>
</div>